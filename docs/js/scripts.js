document.addEventListener("DOMContentLoaded",(function(){if(document.querySelectorAll('.color input[type="radio"]').forEach((e=>{let t=e.value,n=e.nextElementSibling;e.style.backgroundColor=t,n.style.border="1px solid",n.style.borderColor="#fff"===t?"#000":"transparent"})),document.querySelector(".sort-select")){const x=document.querySelectorAll(".select");x.forEach((e=>{const t=e.querySelector(".select__in"),n=e.querySelectorAll(".select__item"),o=e.querySelector(".select__input"),l=new Event("change");if(t.addEventListener("click",(()=>{x.forEach((t=>{t!==e&&t.classList.remove("is-opened")})),e.classList.toggle("is-opened")})),n.length>0){const e=n[0];o.value=e.dataset.value,e.classList.add("is-active")}n.forEach((c=>{c.addEventListener("click",(()=>{o.value=c.dataset.value,o.dispatchEvent(l),t.innerHTML=c.innerHTML,n.forEach((e=>{e.classList.remove("is-active")})),c.classList.add("is-active"),e.classList.remove("is-opened")}))}))})),document.addEventListener("click",(e=>{e.target.closest(".select")||x.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))})),document.addEventListener("keyup",(e=>{"Escape"==e.key&&x.forEach((e=>{e.classList.contains("is-opened")&&e.classList.remove("is-opened")}))}))}const e=document.querySelector(".dark-bgc"),t=document.querySelector(".dark-bgc-succes"),n=document.querySelector(".cancel_popup"),o=document.querySelector("#successPopup");n.addEventListener("click",(function(n){n.preventDefault(),o.style.display="none",e.style.display="none",t.style.display="none"}));const l=document.querySelector(".content-slider");if(document.querySelector(".content-slider h3")){let A=[...document.querySelectorAll(".content-slider h3")],I=A[0].offsetWidth,w=!1;function c(){for(;l.firstChild;)l.removeChild(l.firstChild);for(let e=0;e<A.length;e++){const t=A[e].cloneNode(!0);l.appendChild(t)}}c(),function(){let e=0;setInterval((()=>{w||(w=!0,e-=1,l.style.transition="none",l.style.transform=`translateX(${e}px)`,Math.abs(e)>=I+30&&(e=0,c()),w=!1)}),20)}(),window.addEventListener("resize",(()=>{c()}))}if(document.querySelector(".slider-images-1")&&document.querySelector(".slider-images-2")){const _=document.querySelectorAll(".slider-images-1 img"),C=document.querySelectorAll(".slider-images-2 img");let D=0,M=0;_.length>0&&_[0].classList.add("active"),C.length>0&&C[0].classList.add("active"),setInterval((()=>{_.length>0&&(_[D].classList.remove("active"),D=(D+1)%_.length,_[D].classList.add("active")),C.length>0&&(C[M].classList.remove("active"),M=(M+1)%C.length,C[M].classList.add("active"))}),3e3)}if(document.querySelector(".slider-range")){const P=document.querySelector(".slider-range"),T=document.querySelector("#min-handle"),W=document.querySelector("#max-handle"),V=document.querySelector("#range"),H=document.querySelector("#min-price"),z=document.querySelector("#max-price"),B=document.querySelector("#min-value"),X=document.querySelector("#max-value"),$=T.offsetWidth;let F,N=parseFloat(B.getAttribute("data-value")),O=parseFloat(X.getAttribute("data-value"));function r(){const e=T.offsetLeft,t=W.offsetLeft;V.style.left=e+"px",V.style.width=t-e+"px";const n=Math.round(N+e/(F-$)*(O-N)),o=Math.round(N+t/(F-$)*(O-N));H.value=n,z.value=o,B.textContent=n,X.textContent=o,localStorage.setItem("minValue",n),localStorage.setItem("maxValue",o),localStorage.setItem("minPos",e),localStorage.setItem("maxPos",t)}function s(e,t){e.preventDefault();const n=e.clientX||e.touches[0].clientX,o=t.offsetLeft,l=e=>{let l=(e.clientX||e.touches[0].clientX)-n+o;l=t===T?Math.max(0,Math.min(l,W.offsetLeft-$)):Math.max(T.offsetLeft+$,Math.min(l,F-$)),t.style.left=l+"px",r()},c=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",c)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",c),document.addEventListener("touchmove",l),document.addEventListener("touchend",c)}localStorage.getItem("sliderWidth")?F=parseFloat(localStorage.getItem("sliderWidth")):(F=P.offsetWidth,localStorage.setItem("sliderWidth",F)),localStorage.getItem("minValue")&&localStorage.getItem("maxValue")&&localStorage.getItem("minPos")&&localStorage.getItem("maxPos")&&(H.value=localStorage.getItem("minValue"),z.value=localStorage.getItem("maxValue"),T.style.left=localStorage.getItem("minPos")+"px",W.style.left=localStorage.getItem("maxPos")+"px",r()),T.addEventListener("mousedown",(e=>s(e,T))),W.addEventListener("mousedown",(e=>s(e,W))),T.addEventListener("touchstart",(e=>s(e,T))),W.addEventListener("touchstart",(e=>s(e,W))),r()}if(document.querySelector(".burger")){const Y=document.querySelector(".burger"),j=document.querySelector(".nav"),G=document.querySelector(".cancel"),J=j.querySelectorAll("a");function i(){j.style.left="-100%",e.style.display="none"}Y.addEventListener("click",(function(){j.style.left="0",e.style.display="block"})),J.forEach((e=>{e.addEventListener("click",i)})),G.addEventListener("click",(function(e){e.preventDefault(),i()})),e.addEventListener("click",i)}!function(e,t,n){e.forEach((e=>{e.addEventListener("click",(function(o){o.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(n)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active");const a=document.querySelectorAll(".nav a "),d=document.querySelectorAll(".description-more"),u=document.querySelectorAll(".menu_footer a");let m=null;function y(){d.forEach((e=>e.classList.remove("visible")))}function v(){a.forEach((e=>e.classList.remove("visible")))}function v(){u.forEach((e=>e.classList.remove("visible")))}a.forEach((e=>{e.addEventListener("click",(function(t){const n=e.getAttribute("data-target");y(),v();const o=document.getElementById(n);o&&(m&&m.previousElementSibling&&m.previousElementSibling.classList.remove("readmore-active"),o.classList.add("visible"),o.previousElementSibling&&o.previousElementSibling.classList.add("readmore-active"),m=o)}))})),u.forEach((e=>{e.addEventListener("click",(function(t){const n=e.getAttribute("data-target");y(),v();const o=document.getElementById(n);o&&(m&&m.previousElementSibling&&m.previousElementSibling.classList.remove("readmore-active"),o.classList.add("visible"),o.previousElementSibling&&o.previousElementSibling.classList.add("readmore-active"),m=o)}))})),y(),v(),function(){const e=window.location.hash.substring(1);if(!e)return;const t=document.getElementById(e);t&&(y(),v(),console.log(t),t.querySelector(".description-more").classList.add("visible"),t.querySelector(".readmore")&&t.querySelector(".readmore").classList.add("readmore-active"),m=t,setTimeout((()=>{t.scrollIntoView({behavior:"smooth",block:"start"})}),100))}();const f=document.querySelectorAll(".spivpracia_btn"),p=document.querySelector(".spivpracia_popup"),g=document.querySelector(".cancel_spivpracia"),h=document.querySelector(".dark-bgc");function S(e){e.preventDefault(),p.style.display="none",o.style.display="none",h.style.display="none",t.style.display="none"}if(f.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),p.style.display="block",h.style.display="block"}))})),g.addEventListener("click",S),h.addEventListener("click",S),t.addEventListener("click",S),o.style.transition="opacity 0.5s ease",o.style.opacity="0",o.style.zIndex="-1",t.style.transition="opacity 0.5s ease",t.style.opacity="0",document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((n=>{n.addEventListener("submit",(l=>{if(b(n)){function c(){o.style.opacity="0",o.style.visibility="hidden",t.style.opacity="0",setTimeout((()=>{t.style.display="none",o.style.display="none"}),500)}p.style.display="none",cartPopup.style.display="none",o.style.display="block",o.style.zIndex="10",e.style.display="none",t.style.display="block",setTimeout((()=>{o.style.opacity="1",o.style.visibility="visible",t.style.opacity="1"}),10),t.addEventListener("click",c);o.querySelector(".successPopup .cancel_popup").addEventListener("click",c)}}))})),document.querySelector("video")&&window.innerWidth<1024){const K=document.querySelectorAll("video");document.addEventListener("click",(function e(){K.forEach((e=>{e.play()})),document.removeEventListener("click",e)}))}if(document.querySelector(".toggle-btn")){const Q=document.querySelectorAll(".toggle-btn"),R={rozdrib:document.querySelector("#rozdrib"),gurt:document.querySelector("#gurt")};Q.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),Q.forEach((e=>e.classList.remove("active_product"))),this.classList.add("active_product");const t=this.dataset.target;Object.keys(R).forEach((e=>{R[e].style.display=e===t?"block":"none"}))}))})),R.gurt.style.display="none"}if(document.querySelector(".img-block")&&function(){const e=document.querySelector(".carousel-card"),t=[...document.querySelectorAll(".carousel-item")],n=document.querySelectorAll(".btn"),o=document.querySelector(".img-block"),l=document.querySelector(".small-img"),c=document.querySelector(".main-img"),r=document.querySelector(".description_container");let s,i,a,d=0;for(let e=0;e<t.length;e++)t[e].style.height=c.offsetHeight/2-2+"px";c.style.height=r.offsetHeight+"px",e.style.height=c.offsetHeight+"px",n.forEach((e=>{t.length>2?(s=t[0].offsetHeight+10,i=2*s,a=t[0].offsetWidth,o.style.height=i+50+"rem",l.style.height=i+"rem",e.style.display="block",l.style.padding="55px 0 25rem"):2==t.length?(o.style.display="grid",l.style.display="block",e.style.display="none"):(e.style.display="none",l.style.padding="",o.style.display="block",l.style.display="none")}));const u=document.querySelector(".btn-next");u&&(u.style.width=a+"rem",u.querySelector("svg").style.width=a+"rem",u.addEventListener("click",(function(t){t.preventDefault(),d>0&&(d--,e.style.transition="transform 0.3s ease-in-out",e.style.transform=`translateY(-${d*s}px)`)})));const m=document.querySelector(".btn-prev");m&&(m.style.width=a+"rem",m.querySelector("svg").style.width=a+"rem",m.addEventListener("click",(function(n){n.preventDefault(),d<t.length-2&&(d++,e.style.transition="transform 0.3s ease-in-out",e.style.transform=`translateY(-${d*s}px)`)})))}(),document.querySelector(".products-sm")){let U=document.querySelectorAll(".products-sm img"),Z=document.querySelector(".general-img img");U.forEach((function(e){e.addEventListener("click",(function(){let e=this.src;Z.src=e}))}))}const E=document.querySelectorAll(".phoneInput"),L=document.querySelectorAll(".error-name"),q=document.querySelectorAll(".error-tel");function b(e){const t=e.querySelector("input[name='userPhone']").value.trim();if(!t||!k(t)||t.length<13)return q.forEach((e=>{e.innerText="Введіть коректний номер телефону"})),!1;const n=e.querySelectorAll("input[name='userName']");for(const e of n){const t=e.value.trim();if(t.length<3)return L.forEach((e=>{e.innerText="Мінімальна кількість символів для імені: 3"})),!1;if(t.length>30)return L.forEach((e=>{e.innerText="Максимальна кількість символів для імені: 30"})),!1}return!0}function k(e){return/^\+?(\d{2})?([(]?\d{3}[)]?)\s?[-]?\s?(?:\d{3})\s?[-]?(?:\s?\d{2})\s?[-]?(?:\s?\d{2})$/.test(e)}E.forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();const n="+380";t.startsWith(n)||(t=n+t);let o=t.replace(/[^\d+]/g,"");o.length>13&&(o=o.slice(0,13));k(o)&&13===o.length?(e.style.borderColor="green",e.style.color="#121212",q.forEach((e=>{e.innerText=""}))):(e.style.borderColor="#EB4242",e.style.color="#EB4242",q.forEach((e=>{e.innerText="Введіть коректний номер телефону"})))}))})),document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((e=>{e.addEventListener("submit",(t=>{b(e)||t.preventDefault()}))}));document.querySelectorAll(".inputMask").forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+380")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+380")||(e.value="+380"+t.slice(3))}))}))}));